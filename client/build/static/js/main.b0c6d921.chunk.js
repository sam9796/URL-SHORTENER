(this["webpackJsonpurl-shortener"]=this["webpackJsonpurl-shortener"]||[]).push([[0],{13:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),s=a.n(c),l=(a(13),a(1)),i=a.n(l),o=a(4),u=a(2),m=(a(15),a(3)),p=a.n(m),d=function(){return r.a.createElement("div",{className:"preloader-wrapper big active"},r.a.createElement("div",{className:"spinner-layer spinner-blue-only"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))))},f=a(7),v=a.n(f),E=function(e){var t=e.sendURL;Object(n.useEffect)((function(){p.a.AutoInit()}));var a=Object(n.useState)(""),c=Object(u.a)(a,2),s=c[0],l=c[1],i=Object(n.useState)(""),o=Object(u.a)(i,2),m=o[0],d=o[1];return r.a.createElement("div",{className:"row"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),v.a.isWebUri(s)?(t({url:s,note:m}),l(""),d("")):t({error:"Invalid URL",msg:"Please Enter a Valid URL"})}},r.a.createElement("div",{className:"col s12"},r.a.createElement("h3",{className:"center"},"URL Shortener Application"),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"insert_link"),r.a.createElement("input",{required:!0,placeholder:"Enter URL Here",type:"url",className:"validate",value:s,onChange:function(e){l(e.target.value)}})),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"note_add"),r.a.createElement("input",{placeholder:"Enter Note Here",type:"text",className:"validate",value:m,onChange:function(e){d(e.target.value)}})),r.a.createElement("div",{className:"input-field center"},r.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit"},"GENERATE")))))};var h=function(e){var t=e.result,a=Object(n.useState)(""),c=Object(u.a)(a,2),s=c[0],l=c[1],m=Object(n.useState)({list:[]}),d=Object(u.a)(m,2),f=d[0],v=d[1],E=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8081/api/getAllUrls",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:(a=e.sent).urls.length>0&&v({list:a.urls});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=s.trim())){e.next=4;break}return E(),e.abrupt("return");case 4:return e.next=6,fetch("http://localhost:8081/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toSearch:t})});case 6:return a=e.sent,e.next=9,a.json();case 9:(n=e.sent).urls.length>0?v({list:n.urls}):E();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p.a.AutoInit(),h()}),[s,t]),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m8",style:{paddingBottom:"1.5vw"}},r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"search"),r.a.createElement("input",{id:"short",placeholder:"Enter text to search",value:s,onChange:function(e){l(e.target.value)},type:"text"}))),f.list.map((function(e){return""===e.shortID?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row",style:{paddingTop:"1.5vw"}},r.a.createElement("div",{className:"col s12 m8"},r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"share"),r.a.createElement("input",{placeholder:"Enter text to search",value:e.shortID,type:"text"}))),r.a.createElement("div",{className:"col s12 m8"},r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"share"),r.a.createElement("input",{placeholder:"Enter text to search",value:e.longURL,type:"text"}))),r.a.createElement("div",{className:"col s12 m8"},r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"note"),r.a.createElement("input",{value:e.Note,type:"text"})))))})))},N=function(){Object(n.useEffect)((function(){p.a.AutoInit()}));var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),l=Object(u.a)(s,2),m=l[0],f=l[1],v=function(){var e=Object(o.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c(!0),console.log(t,a),function(){var e=Object(o.a)(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8081/api/v2/shorten",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({longURL:t,note:a})});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,f(r.shortURL);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),c(!1)}catch(n){p.a.toast({html:"Sorry! Server Error occurred"})}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement(E,{sendURL:function(e){var t=e.url,a=e.note;v(t,a)}}),r.a.createElement("div",{className:"row center"},a?r.a.createElement(d,null):r.a.createElement(h,{result:m})))};s.a.render(r.a.createElement(N,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(18)}},[[8,1,2]]]);
//# sourceMappingURL=main.b0c6d921.chunk.js.map